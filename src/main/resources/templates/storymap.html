<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head th:include="include/includebase">
</head>
<head>
    <meta charset="UTF-8">
    <title>Story maps</title>
    <script th:src="@{/js/storymap.js}"></script>
    <link rel="stylesheet" th:href="@{/css/storymap.css}">
    <link rel="stylesheet" th:href="@{/css/common.css}">
</head>

<body>
<nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-left header-name" th:href="@{/}" style="color:#9d9d9d;cursor: pointer;">
                <i class="fa fa-arrow-left fa-2x" aria-hidden="true"></i>
            </a>

            <!--<p class="navbar-text navbar-left header-name" th:text="${name}"></p>-->
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle account" data-toggle="dropdown" role="button"
                       aria-haspopup="true" aria-expanded="false">Account <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li class="account-li" id="pro">Profile</li>
                        <li role="separator" class="divider"></li>
                        <li onclick="$('#logout_btn').click()" class="account-li">
                            Logout
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div class="list-group">
    <span id="last-flag"></span>
    <span class="gui">
    <span id="arrow" class="arrow" style="display: none">
    <img th:src="@{/img/arrow-gui.png}" height="118" width="200" />
        <span id="mess" class="mess" style="display: none">
    <span >click here!</span>
    </span>
    </span>
    </span>
    <span id="last-storymap" class="list-group-item"
          style="display: none;color: #b0c4de; text-align: center; line-height: 138px; cursor: pointer;"
          data-toggle="modal" data-target="#myModal">
            <i class="fa fa-plus fa-5x" aria-hidden="true"></i>
    </span>
    <span id="loading-storymap" class="list-group-item"
          style="color: #b0c4de;display: block; text-align: center; line-height: 138px; cursor: pointer;"
          data-toggle="modal" data-target="#myModal">
        <i class="fa fa-spinner fa-spin fa-5x" aria-hidden="true"></i>
</span>
</div>
<div id="userInfo"></div>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" role="document">
        <div id="new-workspace-modal" class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="exampleModalLabel">New Storymap</h4>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="new-name" class="control-label">Title:</label>
                        <input type="text" class="form-control" id="new-name">
                    </div>
                    <div class="form-group">
                        <label for="new-desc" class="control-label">Description:</label>
                        <input class="form-control" id="new-desc"/>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">
                    <span id="new-btn-text" onclick="newStorymap()">Add Storymap</span>
                    <i id="new-loading" style="display: none;" class="fa fa-spinner fa-spin"></i>
                </button>
            </div>
        </div>
    </div>
</div>
<form style="display: none" action="/logout" method="post">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
    <input id="logout_btn" type="submit" value="Logout"/>
</form>
</body>
</html>